const miModulo=(()=>{"use strict";const t=["C","D","H","S"],e=["A","J","Q","K"],d=(document.getElementById("button-new"),document.getElementById("button-primary")),a=document.getElementById("button-danger"),s=document.querySelectorAll("small"),l=document.querySelectorAll(".blackjack__card"),n=document.getElementById("blackjack-modal");document.getElementById("modal-player");let o=[],c=[];const i=()=>{o=[];for(let e=2;e<10;e++)for(let d of t)o.push(e+d);for(let d of t)for(let t of e)o.push(t+d);return _.shuffle(o)},r=()=>{if(0===o.length)throw"No hay cartas en el deck";return o.pop()},u=(t,e)=>(c[e]=c[e]+(t=>{const e=t.substring(0,t.length-1);return isNaN(e)?"A"===e?11:10:1*e})(t),s[e].textContent=c[e],c[e]),b=(t,e)=>{const d=document.createElement("img");d.classList.add("blackjack__image"),d.src=`assets/cartas/${t}.png`,l[e].appendChild(d)},m=t=>{n.classList.add("blackjack-modal--active"),n.firstElementChild.children[1].firstElementChild.textContent=t},h=t=>{let e=0;do{const d=r();if(e=u(d,c.length-1),b(d,c.length-1),t>21)break}while(e<t&&t<=21);(()=>{const[t,e]=c;setTimeout((()=>{m(e===t?"Nadie gana :(":t>21?"Computadora!":e>21?"1 ❤️!":"Computadora!")}),100)})()};return d.addEventListener("click",(()=>{const t=r(),e=u(t,0);b(t,0),e>21?(d.disabled=!0,a.disabled=!0,a.classList.add("button-disabled"),d.classList.add("button-disabled"),h(e)):21===e&&(a.disabled=!0,a.classList.add("button-disabled"),h(c[1]))})),a.addEventListener("click",(()=>{d.disabled=!0,a.disabled=!0,a.classList.add("button-disabled"),d.classList.add("button-disabled"),h(c[0])})),{nuevoJuego:(t=2)=>{o=i(),c=[];for(let e=0;e<t;e++)c.push(0);s.forEach((t=>t.textContent=0)),l.forEach((t=>t.innerHTML="")),a.disabled=!1,d.disabled=!1,a.classList.remove("button-disabled"),d.classList.remove("button-disabled"),n.classList.remove("blackjack-modal--active")}}})();